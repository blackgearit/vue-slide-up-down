{"version":3,"file":"vue-slide-up-down.m.js","sources":["../src/slide-up-down.js"],"sourcesContent":["export default {\n  name: 'SlideUpDown',\n\n  props: {\n    active: Boolean,\n    duration: {\n      type: Number,\n      default: 500\n    },\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n\n  data: () => ({\n    maxHeight: 0,\n    offsetHeight: 0,\n    isMounted: false\n  }),\n\n  render (h) {\n    return h(\n      this.tag,\n      {\n        style: this.style,\n        ref: 'container'\n      },\n      this.$slots.default\n    )\n  },\n\n  mounted () {\n    this.layout()\n\n    window.addEventListener('resize', this.layout)\n\n    setTimeout(() => {\n      this.isMounted = true\n    }, 0)\n  },\n\n  destroyed () {\n    window.removeEventListener('resize', this.layout)\n  },\n\n  watch: {\n    active () {\n      this.layout()\n    }\n  },\n\n  computed: {\n    style () {\n      return {\n        /*overflow: 'hidden',*/\n        'transition-property': 'height',\n        height: this.isMounted ? this.maxHeight + 'px' : 'auto',\n        'transition-duration': this.duration + 'ms'\n      }\n    }\n  },\n\n  methods: {\n    layout () {\n      const { container } = this.$refs\n\n      if (this.active) {\n        const style = container.getAttribute('style')\n        container.removeAttribute('style')\n        this.maxHeight = container.offsetHeight\n        container.setAttribute('style', style)\n\n        // call this explicitely to force a new layout\n        this.offsetHeight = container.offsetHeight\n        setTimeout(() => {\n          container.classList.remove('sliding-up')\n          container.style.removeProperty('overflow')\n        }, this.duration)\n      } else {\n        container.classList.add('sliding-up')\n        container.style.overflow = 'hidden'\n        this.maxHeight = 0\n      }\n    }\n  }\n\n\n}\n"],"names":["name","props","active","Boolean","duration","type","Number","default","tag","String","data","maxHeight","offsetHeight","isMounted","render","h","this","style","ref","$slots","mounted","layout","window","addEventListener","setTimeout","destroyed","removeEventListener","watch","computed","transition-property","height","transition-duration","methods","container","$refs","const","getAttribute","removeAttribute","setAttribute","classList","remove","removeProperty","add","overflow"],"mappings":"eACEA,KAAM,cAENC,OACEC,OAAQC,QACRC,UACEC,KAAMC,OACNC,QAAS,KAEXC,KACEH,KAAMI,OACNF,QAAS,QAIbG,uBACEC,UAAW,EACXC,aAAc,EACdC,WAAW,IAGbC,gBAAQC,GACN,OAAOA,EACLC,KAAKR,KAEHS,MAAOD,KAAKC,MACZC,IAAK,aAEPF,KAAKG,OAAOZ,UAIhBa,8BACEJ,KAAKK,SAELC,OAAOC,iBAAiB,SAAUP,KAAKK,QAEvCG,sBACER,EAAKH,WAAY,GAChB,IAGLY,qBACEH,OAAOI,oBAAoB,SAAUV,KAAKK,SAG5CM,OACEzB,kBACEc,KAAKK,WAITO,UACEX,iBACE,OAEEY,sBAAuB,SACvBC,OAAQd,KAAKH,UAAYG,KAAKL,UAAY,KAAO,OACjDoB,sBAAuBf,KAAKZ,SAAW,QAK7C4B,SACEX,kBACE,IAAQY,EAAcjB,KAAKkB,gBAE3B,GAAIlB,KAAKd,OAAQ,CACfiC,IAAMlB,EAAQgB,EAAUG,aAAa,SACrCH,EAAUI,gBAAgB,SAC1BrB,KAAKL,UAAYsB,EAAUrB,aAC3BqB,EAAUK,aAAa,QAASrB,GAGhCD,KAAKJ,aAAeqB,EAAUrB,aAC9BY,sBACES,EAAUM,UAAUC,OAAO,cAC3BP,EAAUhB,MAAMwB,eAAe,aAC9BzB,KAAKZ,eAER6B,EAAUM,UAAUG,IAAI,cACxBT,EAAUhB,MAAM0B,SAAW,SAC3B3B,KAAKL,UAAY"}